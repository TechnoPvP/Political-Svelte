"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Widget=function(){var e={scroll:function(e){var t,i=this.refs.wrapper,n=i.clientWidth/2,o=i.scrollLeft;t="prev"===e?0<o-n?o-n:0:o+n<2*n?o+n:2*n,this.animate(i,t,400)},animate:function(i,e,n){var o=this.easing,a=i.scrollLeft,r=e-a,l=0;!function e(){var t=o(l+=20,a,r,n);i.scrollLeft=t,l<n&&setTimeout(e,20)}()},easing:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}};function v(a,t){for(var n,o,r,l,s,c,f,h,p,d,u,v,x,m,g,b,w=t.coalition,_=(t.each_value,t.coalition_index,w.label),k=w.percent.toString().replace(".",","),y=w.percent2&&N(a,t),S=t.bothBranches&&B(a,t),e=w.lists,z=[],i=0;i<e.length;i+=1)z[i]=L(a,j(j({},t),{each_value_1:e,list:e[i],list_index:i}));return{c:function(){n=C("div"),o=C("div"),r=C("h3"),l=E(_),s=E("\n               "),c=C("div"),f=C("div"),h=C("small"),p=E(t.branch),d=E("\n                     "),u=C("div"),v=E(k),y&&y.c(),x=E("%"),m=E("\n                  "),S&&S.c(),g=E("\n               "),b=C("div");for(var e=0;e<z.length;e+=1)z[e].c();this.h()},h:function(){r.className="ep-coalition-title",H(r,"border-bottom","3px solid "+w.color),u.className="percent",f.className="percent-wrapper",c.className="data-display",H(c,"flex-direction",w.percent2?"column":"row"),b.className="logo-wrapper",o.className="flex-wrapper",n.className="ep-coalition-box"},m:function(e,t){O(n,e,t),P(o,n),P(r,o),P(l,r),P(s,o),P(c,o),P(f,c),P(h,f),P(p,h),P(d,f),P(u,f),P(v,u),y&&y.m(u,null),P(x,u),P(m,c),S&&S.m(c,null),P(g,o),P(b,o);for(var i=0;i<z.length;i+=1)z[i].m(b,null)},p:function(e,t){w=t.coalition,t.each_value,t.coalition_index,e.coalitions&&_!==(_=w.label)&&(l.data=_),e.coalitions&&H(r,"border-bottom","3px solid "+w.color),e.branch&&(p.data=t.branch),e.coalitions&&k!==(k=w.percent.toString().replace(".",","))&&(v.data=k),w.percent2?y?y.p(e,t):((y=N(a,t)).c(),y.m(u,x)):y&&(y.u(),y.d(),y=null),t.bothBranches?S?S.p(e,t):((S=B(a,t)).c(),S.m(c,null)):S&&(S.u(),S.d(),S=null),e.coalitions&&H(c,"flex-direction",w.percent2?"column":"row");var i=w.lists;if(e.imagePath||e.coalitions){for(var n=0;n<i.length;n+=1){var o=j(j({},t),{each_value_1:i,list:i[n],list_index:n});z[n]?z[n].p(e,o):(z[n]=L(a,o),z[n].c(),z[n].m(b,null))}for(;n<z.length;n+=1)z[n].u(),z[n].d();z.length=i.length}},u:function(){T(n),y&&y.u(),S&&S.u();for(var e=0;e<z.length;e+=1)z[e].u()},d:function(){y&&y.d(),S&&S.d(),W(z)}}}function N(e,t){var i,n,o=t.coalition,a=(t.each_value,t.coalition_index,o.percent2.toString().replace(".",","));return{c:function(){i=E("-"),n=E(a)},m:function(e,t){O(i,e,t),O(n,e,t)},p:function(e,t){o=t.coalition,t.each_value,t.coalition_index,e.coalitions&&a!==(a=o.percent2.toString().replace(".",","))&&(n.data=a)},u:function(){T(i),T(n)},d:r}}function d(e,t){var i,n,o=t.coalition,a=(t.each_value,t.coalition_index,o.percent2B.toString().replace(".",","));return{c:function(){i=E("-"),n=E(a)},m:function(e,t){O(i,e,t),O(n,e,t)},p:function(e,t){o=t.coalition,t.each_value,t.coalition_index,e.coalitions&&a!==(a=o.percent2B.toString().replace(".",","))&&(n.data=a)},u:function(){T(i),T(n)},d:r}}function B(e,t){var i,n,o,a,r,l,s,c,f=t.coalition,h=(t.each_value,t.coalition_index,f.percentB.toString().replace(".",",")),p=f.percent2B&&d(0,t);return{c:function(){i=C("span"),n=E("\n                  "),o=C("div"),(a=C("small")).textContent="Senato",r=E("\n                     "),l=C("div"),s=E(h),p&&p.c(),c=E("%"),this.h()},h:function(){i.className="data-display-separator",l.className="percent",o.className="percent-wrapper"},m:function(e,t){O(i,e,t),O(n,e,t),O(o,e,t),P(a,o),P(r,o),P(l,o),P(s,l),p&&p.m(l,null),P(c,l)},p:function(e,t){f=t.coalition,t.each_value,t.coalition_index,e.coalitions&&h!==(h=f.percentB.toString().replace(".",","))&&(s.data=h),f.percent2B?p?p.p(e,t):((p=d(0,t)).c(),p.m(l,c)):p&&(p.u(),p.d(),p=null)},u:function(){T(i),T(n),T(o),p&&p.u()},d:function(){p&&p.d()}}}function L(e,t){t.coalition,t.each_value,t.coalition_index;var i,n=t.list;t.each_value_1,t.list_index;return{c:function(){i=C("div"),this.h()},h:function(){i.className="coalition-logo",H(i,"background-image","url("+t.imagePath+n.id+".png)")},m:function(e,t){O(i,e,t)},p:function(e,t){t.coalition,t.each_value,t.coalition_index,n=t.list,t.each_value_1,t.list_index,(e.imagePath||e.coalitions)&&H(i,"background-image","url("+t.imagePath+n.id+".png)")},u:function(){T(i)},d:r}}function x(e,t){var i,n;return{c:function(){i=C("small"),n=E(t.dataSource),this.h()},h:function(){i.className="data-source"},m:function(e,t){O(i,e,t),P(n,i)},p:function(e,t){e.dataSource&&(n.data=t.dataSource)},u:function(){T(i)},d:r}}function t(e){var t,i,n;i=e,(t=this)._handlers=Object.create(null),t._bind=i._bind,t.options=i,t.root=i.root||t,t.store=t.root.store||i.store,this.refs={},this._state=j({},e.data),this._recompute({type:1,figures:1,figures2:1,configList:1,limit:1},this._state),document.getElementById("svelte-1fwxihk-style")||((n=C("style")).id="svelte-1fwxihk-style",n.textContent=".svelte-1fwxihk.ep-coalitions,.svelte-1fwxihk .ep-coalitions{font-family:'open sans condensed';position:relative;border-bottom:3px solid #ddd;padding-bottom:1em;margin-bottom:1em}.svelte-1fwxihk.ep-coalitions-wrapper,.svelte-1fwxihk .ep-coalitions-wrapper,.svelte-1fwxihk.ep-more-lists,.svelte-1fwxihk .ep-more-lists{display:flex;justify-content:space-between;flex-wrap:wrap;position:relative}.svelte-1fwxihk.ep-coalitions-mobile-nav,.svelte-1fwxihk .ep-coalitions-mobile-nav{display:none}.svelte-1fwxihk.ep-coalition-box,.svelte-1fwxihk .ep-coalition-box{box-sizing:border-box;flex:1 0 10%;border:1px solid #ddd;margin:0.3em;border-radius:5px;background:#f9f9f9;box-shadow:10px 0px 14px -8px #ccc;overflow:hidden}.svelte-1fwxihk.data-display,.svelte-1fwxihk .data-display{display:flex;justify-content:space-evenly;flex-direction:column;position:relative;padding:.5em .3em}.svelte-1fwxihk.data-display-separator,.svelte-1fwxihk .data-display-separator{width:2px;height:2em;top:3px;background:#ddd;position:relative;align-self:center}.svelte-1fwxihk.percent-wrapper,.svelte-1fwxihk .percent-wrapper{text-align:center}.svelte-1fwxihk.logo-wrapper,.svelte-1fwxihk .logo-wrapper{display:flex;justify-content:center;padding:.2em}.svelte-1fwxihk.coalition-logo,.svelte-1fwxihk .coalition-logo{width:35px;height:35px;background-color:#efefef;display:inline-block;border-radius:50%;margin:4px;border:1px solid #ddd;background-size:cover;background-position:center;background-repeat:no-repeat}h3.svelte-1fwxihk.ep-coalition-title,.svelte-1fwxihk h3.ep-coalition-title{text-align:center;margin:0;padding:.4em;background:#ddd;font-size:1em;text-transform:uppercase;background:#efefef}.svelte-1fwxihk.ep-horizontal-bar-table,.svelte-1fwxihk .ep-horizontal-bar-table{width:100%;font-size:.8em;box-sizing:border-box;padding:.5em .2em}.svelte-1fwxihk.ep-horizontal-bar-table td,.svelte-1fwxihk .ep-horizontal-bar-table td{border-bottom:1px solid #ddd;padding:.1em}.svelte-1fwxihk.ep-horizontal-bar-graph,.svelte-1fwxihk .ep-horizontal-bar-graph{position:relative}.svelte-1fwxihk.graph,.svelte-1fwxihk .graph{height:12px;overflow:visible}.svelte-1fwxihk.graph > span,.svelte-1fwxihk .graph > span{position:absolute;right:0}.svelte-1fwxihk.ep-horizontal-bar-list,.svelte-1fwxihk .ep-horizontal-bar-list{width:1%;white-space:nowrap;text-align:right}.svelte-1fwxihk.percent,.svelte-1fwxihk .percent{font-size:1.8em;text-align:center;line-height:1}.svelte-1fwxihk.percent small,.svelte-1fwxihk .percent small{display:block;font-size:.4em;line-height:1;color:#999}.svelte-1fwxihk.data-source,.svelte-1fwxihk .data-source{display:block;text-align:right;font-size:.8em;color:#999;font-family:sans-serif;padding:.5em}@media screen and (max-width:820px){.svelte-1fwxihk.ep-coalition-box,.svelte-1fwxihk .ep-coalition-box{flex:0 1 48%;min-width:48%}}@media screen and (max-width:610px){.svelte-1fwxihk.ep-coalitions-wrapper,.svelte-1fwxihk .ep-coalitions-wrapper{flex-wrap:nowrap;overflow:auto}.svelte-1fwxihk.ep-coalition-box,.svelte-1fwxihk .ep-coalition-box{min-width:47%}.svelte-1fwxihk.coalition-logo,.svelte-1fwxihk .coalition-logo{idth:30px;height:30px}.svelte-1fwxihk.bar-wrapper,.svelte-1fwxihk .bar-wrapper{display:none}.svelte-1fwxihk.ep-coalitions-mobile-nav,.svelte-1fwxihk .ep-coalitions-mobile-nav{display:inline-block;z-index:2;position:absolute;top:50%;transform:translateY(-50%);font-size:1.7em;line-height:1;background:rgba(0,0,0,0.4);border-radius:50%;color:#fff;width:34px;height:34px;text-align:center;border:1px solid rgba(255,255,255,0.9)}.svelte-1fwxihk.nav-prev,.svelte-1fwxihk .nav-prev{left:0}.svelte-1fwxihk.nav-next,.svelte-1fwxihk .nav-next{right:0}}@media(max-width:700px){.svelte-1fwxihk.data-display,.svelte-1fwxihk .data-display{flex-direction:column}.svelte-1fwxihk.data-display-separator,.svelte-1fwxihk .data-display-separator{display:none}}",P(n,document.head));var o=this;e.root||(this._oncreate=[]),this._fragment=function(a,e){var r,n,o,l,s,c,f;function t(e){a.scroll("prev")}for(var i=e.coalitions,h=[],p=0;p<i.length;p+=1)h[p]=v(a,j(j({},e),{each_value:i,coalition:i[p],coalition_index:p}));function d(e){a.scroll("next")}var u=e.dataSource&&x(a,e);return{c:function(){r=C("div"),(n=C("div")).textContent="«",o=E(" \n   "),l=C("div");for(var e=0;e<h.length;e+=1)h[e].c();s=E(" \n   "),(c=C("div")).textContent="»",f=E(" \n   "),u&&u.c(),this.h()},h:function(){m(n,"click",t),n.className="ep-coalitions-mobile-nav nav-prev",l.className="ep-coalitions-wrapper",m(c,"click",d),c.className="ep-coalitions-mobile-nav nav-next",r.className="ep-coalitions svelte-1fwxihk"},m:function(e,t){O(r,e,t),P(n,r),P(o,r),P(l,r);for(var i=0;i<h.length;i+=1)h[i].m(l,null);a.refs.wrapper=l,P(s,r),P(c,r),P(f,r),u&&u.m(r,null)},p:function(e,t){var i=t.coalitions;if(e.coalitions||e.branch||e.bothBranches||e.imagePath){for(var n=0;n<i.length;n+=1){var o=j(j({},t),{each_value:i,coalition:i[n],coalition_index:n});h[n]?h[n].p(e,o):(h[n]=v(a,o),h[n].c(),h[n].m(l,null))}for(;n<h.length;n+=1)h[n].u(),h[n].d();h.length=i.length}t.dataSource?u?u.p(e,t):((u=x(a,t)).c(),u.m(r,null)):u&&(u.u(),u.d(),u=null)},u:function(){T(r);for(var e=0;e<h.length;e+=1)h[e].u();u&&u.u()},d:function(){g(n,"click",t),W(h),a.refs.wrapper===l&&(a.refs.wrapper=null),g(c,"click",d),u&&u.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")}).call(o),o.fire("update",{changed:{type:1,figures:1,figures2:1,configList:1,limit:1,coalitions:1,branch:1,bothBranches:1,imagePath:1,dataSource:1},current:o._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),a(this._oncreate))}function C(e){return document.createElement(e)}function P(e,t){t.appendChild(e)}function j(e,t){for(var i in t)e[i]=t[i];return e}function E(e){return document.createTextNode(e)}function m(e,t,i){e.addEventListener(t,i,!1)}function O(e,t,i){t.insertBefore(e,i)}function T(e){e.parentNode.removeChild(e)}function g(e,t,i){e.removeEventListener(t,i,!1)}function W(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function H(e,t,i){e.style.setProperty(t,i)}function r(){}function a(e){for(;e&&e.length;)e.shift()()}function i(e){this.destroy=r,this.fire("destroy"),!(this.set=this.get=r)!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}return j(t.prototype,{destroy:i,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var i=e in this._handlers&&this._handlers[e].slice();if(!i)return;for(var n=0;n<i.length;n+=1){var o=i[n];o.__calling||(o.__calling=!0,o.call(this,t),o.__calling=!1)}},observe:function(t,e,i){var n=e.bind(this);i&&!1===i.init||n(this.get()[t],void 0);return this.on(i&&i.defer?"update":"state",function(e){e.changed[t]&&n(e.current[t],e.previous&&e.previous[t])})},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var i=this._handlers[e]||(this._handlers[e]=[]);return i.push(t),{cancel:function(){var e=i.indexOf(t);~e&&i.splice(e,1)}}},set:function(e){if(this._set(j({},e)),this.root._lock)return;this.root._lock=!0,a(this.root._beforecreate),a(this.root._oncreate),a(this.root._aftercreate),this.root._lock=!1},teardown:i,_set:function(e){var t=this._state,i={},n=!1;for(var o in e)this._differs(e[o],t[o])&&(i[o]=n=!0);if(!n)return;this._state=j(j({},t),e),this._recompute(i,this._state),this._bind&&this._bind(i,this._state);this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:t}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:t}))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e}}),j(t.prototype,e),t.prototype._recompute=function(e,t){var i,n,o,a;e.type&&(this._differs(t.bothBranches,t.bothBranches=!t.type)&&(e.bothBranches=!0),this._differs(t.branch,t.branch=t.type||"Camera")&&(e.branch=!0)),(e.figures||e.figures2||e.configList||e.limit)&&this._differs(t.coalitions,t.coalitions=(i=t.figures,n=t.figures2,o=t.configList,a=t.limit,i.map(function(t){if(t.color=o[t.id].color,t.label=o[t.id].label,n){var e=n.filter(function(e){return e.id===t.id})[0];t.percentB=e?e.percent:"",t.percent2B=e?e.percent2:""}var i=t.lists.map(function(e){var t=Object.keys(e)[0];return e.id=t,e.percent=e[t],e.label=o[t].short_label,e.color=o[t].color,e}).sort(function(e,t){return t.percent-e.percent});return t.lists=i,t}).filter(function(e,t){return!(0<a)||t<a})))&&(e.coalitions=!0)},t}();