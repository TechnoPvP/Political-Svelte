"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Widget=function(){var e={goToDetail:function(e){e&&(location.href=e)}};function u(o,n){for(var a,i,r,l,s,d,u,c=n.regione,f=(n.each_value,n.regione_index,c.title),e=c.formattedFigures,p=[],t=0;t<e.length;t+=1)p[t]=g(o,v(v({},n),{each_value_1:e,candidato:e[t],index:t}));return{c:function(){a=j("div"),i=j("div"),r=j("h3"),l=P(f),s=P("\n                  "),d=j("div");for(var e=0;e<p.length;e+=1)p[e].c();this.h()},h:function(){var e,t;r.className="ep-regionali-title",T(r,"border-bottom","3px solid #ddd"),d.className="list-wrapper",i.className="flex-wrapper",e="click",t=h,a.addEventListener(e,t,!1),a.className=u="ep-regionali-box "+(c.url?"clickable":""),a._svelte={component:o,each_value:n.each_value,regione_index:n.regione_index}},m:function(e,t){E(a,e,t),C(i,a),C(r,i),C(l,r),C(s,i),C(d,i);for(var n=0;n<p.length;n+=1)p[n].m(d,null)},p:function(e,t){c=t.regione,t.each_value,t.regione_index,e.regioni&&f!==(f=c.title)&&(l.data=f);var n=c.formattedFigures;if(e.regioni||e.limit){for(var i=0;i<n.length;i+=1){var r=v(v({},t),{each_value_1:n,candidato:n[i],index:i});p[i]?p[i].p(e,r):(p[i]=g(o,r),p[i].c(),p[i].m(d,null))}for(;i<p.length;i+=1)p[i].u(),p[i].d();p.length=n.length}e.regioni&&u!==(u="ep-regionali-box "+(c.url?"clickable":""))&&(a.className=u),a._svelte.each_value=t.each_value,a._svelte.regione_index=t.regione_index},u:function(){F(a);for(var e=0;e<p.length;e+=1)p[e].u()},d:function(){var e,t;m(p),e="click",t=h,a.removeEventListener(e,t,!1)}}}function g(n,e){e.regione,e.each_value,e.regione_index;var i,r,o,a,l,s,d,u,c,f,p,g,h,v,m,_,y=e.candidato,w=(e.each_value_1,e.index),x=y.perc,b=y.cognome,k=y.nome,N=y.coalizione,S=y.perc2&&L(n,e),z=w<e.limit-1&&D(n,e);return{c:function(){i=j("div"),r=j("div"),o=P("\n                        "),a=j("div"),l=P(x),S&&S.c(),s=P("%"),d=P("\n                        "),u=j("h4"),c=P(b),f=P(" "),p=P(k),g=P("\n                        "),h=j("h5"),v=P(N),m=P("\n                     "),z&&z.c(),_=document.createComment(""),this.h()},h:function(){r.className="img-wrapper",T(r,"background-image","url("+y.picture+")"),T(r,"color",y.color),a.className="perc",i.className="list"},m:function(e,t){E(i,e,t),C(r,i),C(o,i),C(a,i),C(l,a),S&&S.m(a,null),C(s,a),C(d,i),C(u,i),C(c,u),C(f,u),C(p,u),C(g,i),C(h,i),C(v,h),E(m,e,t),z&&z.m(e,t),E(_,e,t)},p:function(e,t){t.regione,t.each_value,t.regione_index,y=t.candidato,t.each_value_1,w=t.index,e.regioni&&(T(r,"background-image","url("+y.picture+")"),T(r,"color",y.color)),e.regioni&&x!==(x=y.perc)&&(l.data=x),y.perc2?S?S.p(e,t):((S=L(n,t)).c(),S.m(a,s)):S&&(S.u(),S.d(),S=null),e.regioni&&b!==(b=y.cognome)&&(c.data=b),e.regioni&&k!==(k=y.nome)&&(p.data=k),e.regioni&&N!==(N=y.coalizione)&&(v.data=N),w<t.limit-1?z||((z=D(n,t)).c(),z.m(_.parentNode,_)):z&&(z.u(),z.d(),z=null)},u:function(){F(i),S&&S.u(),F(m),z&&z.u(),F(_)},d:function(){S&&S.d(),z&&z.d()}}}function L(e,t){t.regione,t.each_value,t.regione_index;var n,i,r=t.candidato,o=(t.each_value_1,t.index,r.perc2);return{c:function(){n=P("-"),i=P(o)},m:function(e,t){E(n,e,t),E(i,e,t)},p:function(e,t){t.regione,t.each_value,t.regione_index,r=t.candidato,t.each_value_1,t.index,e.regioni&&o!==(o=r.perc2)&&(i.data=o)},u:function(){F(n),F(i)},d:a}}function D(e,t){var n;t.regione,t.each_value,t.regione_index,t.candidato,t.each_value_1,t.index;return{c:function(){n=j("span"),this.h()},h:function(){n.className="data-display-separator"},m:function(e,t){E(n,e,t)},p:function(e,t){t.regione,t.each_value,t.regione_index,t.candidato,t.each_value_1,t.index},u:function(){F(n)},d:a}}function c(e,t){var n,i;return{c:function(){n=j("small"),i=P(t.dataSource),this.h()},h:function(){n.className="data-source"},m:function(e,t){E(n,e,t),C(i,n)},p:function(e,t){e.dataSource&&(i.data=t.dataSource)},u:function(){F(n)},d:a}}function h(e){var t=this._svelte.component,n=this._svelte.each_value[this._svelte.regione_index];t.goToDetail(n.url)}function t(e){var t,n,i;n=e,(t=this)._handlers=Object.create(null),t._bind=n._bind,t.options=n,t.root=n.root||t,t.store=t.root.store||n.store,this.refs={},this._state=v({},e.data),this._recompute({regionalData:1,configList:1,limit:1,imagePath:1},this._state),document.getElementById("svelte-1duywnf-style")||((i=j("style")).id="svelte-1duywnf-style",i.textContent=".svelte-1duywnf.ep-regionali,.svelte-1duywnf .ep-regionali{font-family:'open sans condensed';position:relative;border-bottom:3px solid #ddd;padding-bottom:1em;margin-bottom:1em}.svelte-1duywnf.ep-regionali-wrapper,.svelte-1duywnf .ep-regionali-wrapper,.svelte-1duywnf.ep-more-lists,.svelte-1duywnf .ep-more-lists{display:flex;justify-content:space-between;flex-wrap:wrap;position:relative}.svelte-1duywnf.ep-regionali-mobile-nav,.svelte-1duywnf .ep-regionali-mobile-nav{display:none}.svelte-1duywnf.ep-regionali-box,.svelte-1duywnf .ep-regionali-box{box-sizing:border-box;flex:1 0 10%;border:1px solid #ddd;margin:0.3em;border-radius:5px;background:#f9f9f9;box-shadow:10px 0px 14px -8px #ccc;overflow:hidden}.svelte-1duywnf.clickable,.svelte-1duywnf .clickable{cursor:pointer}.svelte-1duywnf.data-display-separator,.svelte-1duywnf .data-display-separator{width:2px;height:8em;top:3px;background:#ddd;position:relative;align-self:center}h3.svelte-1duywnf.ep-regionali-title,.svelte-1duywnf h3.ep-regionali-title{text-align:center;margin:0;padding:.4em;background:#ddd;font-size:1em;text-transform:uppercase;background:#efefef}.svelte-1duywnf.ep-regionali-title a,.svelte-1duywnf .ep-regionali-title a{color:inherit}.svelte-1duywnf.data-source,.svelte-1duywnf .data-source{display:block;text-align:right;font-size:.8em;color:#999;font-family:sans-serif;padding:.5em}.svelte-1duywnf.list-wrapper,.svelte-1duywnf .list-wrapper{display:flex;justify-content:space-around;text-align:center;padding:.2em 0}.svelte-1duywnf.list,.svelte-1duywnf .list{width:30%;text-align:center}.svelte-1duywnf.list h4,.svelte-1duywnf .list h4,.svelte-1duywnf.list h5,.svelte-1duywnf .list h5{margin:0}.svelte-1duywnf.list h5,.svelte-1duywnf .list h5{color:#999}.svelte-1duywnf.list .perc,.svelte-1duywnf .list .perc{font-size:1.8em}.svelte-1duywnf.img-wrapper,.svelte-1duywnf .img-wrapper{background-color:#ddd;width:70px;height:70px;border-radius:50%;margin:.5em auto;border:5px solid;box-shadow:-5px -7px 7px -6px #444 inset;background-position:center;background-size:cover}@media screen and (max-width:820px){.svelte-1duywnf.ep-regionali-box,.svelte-1duywnf .ep-regionali-box{flex:0 1 48%;min-width:48%}}@media screen and (max-width:610px){.svelte-1duywnf.ep-regionali-wrapper,.svelte-1duywnf .ep-regionali-wrapper{flex-wrap:nowrap;overflow:auto}.svelte-1duywnf.ep-regionali-box,.svelte-1duywnf .ep-regionali-box{min-width:47%}.svelte-1duywnf.coalition-logo,.svelte-1duywnf .coalition-logo{idth:30px;height:30px}.svelte-1duywnf.bar-wrapper,.svelte-1duywnf .bar-wrapper{display:none}.svelte-1duywnf.ep-regionali-mobile-nav,.svelte-1duywnf .ep-regionali-mobile-nav{display:inline-block;z-index:2;position:absolute;top:50%;transform:translateY(-50%);font-size:1.7em;line-height:1;background:rgba(0,0,0,0.4);border-radius:50%;color:#fff;width:34px;height:34px;text-align:center;border:1px solid rgba(255,255,255,0.9)}.svelte-1duywnf.nav-prev,.svelte-1duywnf .nav-prev{left:0}.svelte-1duywnf.nav-next,.svelte-1duywnf .nav-next{right:0}}@media(max-width:700px){.svelte-1duywnf.data-display-separator,.svelte-1duywnf .data-display-separator{display:none}.svelte-1duywnf.ep-regionali-wrapper,.svelte-1duywnf .ep-regionali-wrapper{flex-direction:column}}",C(i,document.head));var r=this;e.root||(this._oncreate=[]),this._fragment=function(o,e){for(var a,l,i,t=e.regioni,s=[],n=0;n<t.length;n+=1)s[n]=u(o,v(v({},e),{each_value:t,regione:t[n],regione_index:n}));var d=e.dataSource&&c(o,e);return{c:function(){a=j("div"),l=j("div");for(var e=0;e<s.length;e+=1)s[e].c();i=P(" \n   "),d&&d.c(),this.h()},h:function(){l.className="ep-regionali-wrapper",a.className="ep-regionali svelte-1duywnf"},m:function(e,t){E(a,e,t),C(l,a);for(var n=0;n<s.length;n+=1)s[n].m(l,null);o.refs.wrapper=l,C(i,a),d&&d.m(a,null)},p:function(e,t){var n=t.regioni;if(e.regioni||e.limit){for(var i=0;i<n.length;i+=1){var r=v(v({},t),{each_value:n,regione:n[i],regione_index:i});s[i]?s[i].p(e,r):(s[i]=u(o,r),s[i].c(),s[i].m(l,null))}for(;i<s.length;i+=1)s[i].u(),s[i].d();s.length=n.length}t.dataSource?d?d.p(e,t):((d=c(o,t)).c(),d.m(a,null)):d&&(d.u(),d.d(),d=null)},u:function(){F(a);for(var e=0;e<s.length;e+=1)s[e].u();d&&d.u()},d:function(){m(s),o.refs.wrapper===l&&(o.refs.wrapper=null),d&&d.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")}).call(r),r.fire("update",{changed:{regionalData:1,configList:1,limit:1,imagePath:1,regioni:1,dataSource:1},current:r._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),o(this._oncreate))}function j(e){return document.createElement(e)}function C(e,t){t.appendChild(e)}function v(e,t){for(var n in t)e[n]=t[n];return e}function P(e){return document.createTextNode(e)}function E(e,t,n){t.insertBefore(e,n)}function F(e){e.parentNode.removeChild(e)}function m(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function T(e,t,n){e.style.setProperty(t,n)}function a(){}function o(e){for(;e&&e.length;)e.shift()()}function n(e){this.destroy=a,this.fire("destroy"),!(this.set=this.get=a)!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}return v(t.prototype,{destroy:n,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(!n)return;for(var i=0;i<n.length;i+=1){var r=n[i];r.__calling||(r.__calling=!0,r.call(this,t),r.__calling=!1)}},observe:function(t,e,n){var i=e.bind(this);n&&!1===n.init||i(this.get()[t],void 0);return this.on(n&&n.defer?"update":"state",function(e){e.changed[t]&&i(e.current[t],e.previous&&e.previous[t])})},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){if(this._set(v({},e)),this.root._lock)return;this.root._lock=!0,o(this.root._beforecreate),o(this.root._oncreate),o(this.root._aftercreate),this.root._lock=!1},teardown:n,_set:function(e){var t=this._state,n={},i=!1;for(var r in e)this._differs(e[r],t[r])&&(n[r]=i=!0);if(!i)return;this._state=v(v({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state);this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t}))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e}}),v(t.prototype,e),t.prototype._recompute=function(e,t){var n,i,r,o;(e.regionalData||e.configList||e.limit||e.imagePath)&&this._differs(t.regioni,t.regioni=(n=t.regionalData,i=t.configList,r=t.limit,o=t.imagePath,n.map(function(e){return e.formattedFigures=e.figures.filter(function(e,t){return t<r}).map(function(e){return e.coalizione=i[e.id]?i[e.id].label:"",e.perc=e.percent.toString().replace(".",","),e.perc2=e.percent2?e.percent2.toString().replace(".",","):null,e.picture=o+e.cognome.toLowerCase()+".jpg",e.color=i[e.id]?i[e.id].color:"#fff",e}),e})))&&(e.regioni=!0)},t}();