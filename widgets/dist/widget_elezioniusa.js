"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Widget=function(){function i(n,e,t){return[t].map(function(e){return(a=e)?Object.keys(a).map(function(t,e){return a[t].coalitions.forEach(function(e){a[t].votes=parseInt(a[t].votes)+parseInt(n[e])}),a[t]}):null;var a})}function o(n,e,t){return t.map(function(e,t){if(e){var a=function(e,t){var a;return e.perc=(a=e.votes,parseFloat((a/n*100).toFixed(2))),e.delay=50*t+"ms",e};return e.map(function(e,t){return a(e,t)})}})}function z(e,t){var a,n,i,o,s,r,l,d,c,p,f=t.candidate,h=(t.each_value,t.index,f.totalVotes),u=f.label,v=f.nameCoalition;return{c:function(){a=L("div"),n=L("span"),i=S(h),o=S("\n                  "),s=L("div"),r=L("h4"),l=S(u),d=S("\n                     "),c=L("h5"),p=S(v),this.h()},h:function(){m(n,"color",f.color+" "),s.className="candidate-desc",a.className="candidate-info"},m:function(e,t){j(a,e,t),T(n,a),T(i,n),T(o,a),T(s,a),T(r,s),T(l,r),T(d,s),T(c,s),T(p,c)},p:function(e,t){f=t.candidate,t.each_value,t.index,e.candidates&&h!==(h=f.totalVotes)&&(i.data=h),e.candidates&&m(n,"color",f.color+" "),e.candidates&&u!==(u=f.label)&&(l.data=u),e.candidates&&v!==(v=f.nameCoalition)&&(p.data=v)},u:function(){I(a)},d:g}}function y(a,e){var n,i=e.list,o=(e.each_value_1,e.index,0<i.votes&&r(a,e));return{c:function(){o&&o.c(),n=t()},m:function(e,t){o&&o.m(e,t),j(n,e,t)},p:function(e,t){i=t.list,t.each_value_1,t.index,0<i.votes?o?o.p(e,t):((o=r(a,t)).c(),o.m(n.parentNode,n)):o&&(o.u(),o.d(),o=null)},u:function(){o&&o.u(),I(n)},d:function(){o&&o.d()}}}function s(e,t){var a,n,i=t.list,o=(t.each_value_1,t.index,i.votes);return{c:function(){a=L("h4"),n=S(o)},m:function(e,t){j(a,e,t),T(n,a)},p:function(e,t){i=t.list,t.each_value_1,t.index,e.rawList&&o!==(o=i.votes)&&(n.data=o)},u:function(){I(a)},d:g}}function r(e,t){var a,n,i=t.list,o=(t.each_value_1,t.index,10<i.votes&&s(0,t));return{c:function(){a=L("div"),o&&o.c(),this.h()},h:function(){a.className=n="ep-horizontal-stacked-list box-"+i.label,m(a,"background",i.color),m(a,"width",i.perc+"%")},m:function(e,t){j(a,e,t),o&&o.m(a,null)},p:function(e,t){i=t.list,t.each_value_1,t.index,10<i.votes?o?o.p(e,t):((o=s(0,t)).c(),o.m(a,null)):o&&(o.u(),o.d(),o=null),e.rawList&&n!==(n="ep-horizontal-stacked-list box-"+i.label)&&(a.className=n),e.rawList&&(m(a,"background",i.color),m(a,"width",i.perc+"%"))},u:function(){I(a),o&&o.u()},d:function(){o&&o.d()}}}function N(a,e){var n,i,o,s=e.list,r=(e.each_value_2,e.index,"In vantaggio"==s.label&&0<s.votes&&c(a,e)),l="Da assegnare"==s.label&&0<s.votes&&p(a,e),d="In vantaggio"!=s.label&&"Da assegnare"!=s.label&&f(a,e);return{c:function(){r&&r.c(),n=S("\n\n                  "),l&&l.c(),i=S("\n\n                  "),d&&d.c(),o=t()},m:function(e,t){r&&r.m(e,t),j(n,e,t),l&&l.m(e,t),j(i,e,t),d&&d.m(e,t),j(o,e,t)},p:function(e,t){s=t.list,t.each_value_2,t.index,"In vantaggio"==s.label&&0<s.votes?r?r.p(e,t):((r=c(a,t)).c(),r.m(n.parentNode,n)):r&&(r.u(),r.d(),r=null),"Da assegnare"==s.label&&0<s.votes?l?l.p(e,t):((l=p(a,t)).c(),l.m(i.parentNode,i)):l&&(l.u(),l.d(),l=null),"In vantaggio"!=s.label&&"Da assegnare"!=s.label?d?d.p(e,t):((d=f(a,t)).c(),d.m(o.parentNode,o)):d&&(d.u(),d.d(),d=null)},u:function(){r&&r.u(),I(n),l&&l.u(),I(i),d&&d.u(),I(o)},d:function(){r&&r.d(),l&&l.d(),d&&d.d()}}}function c(e,t){var a,n,i,o,s,r,l,d,c=t.list,p=(t.each_value_2,t.index,c.label),f=c.votes;return{c:function(){a=L("div"),n=L("span"),i=S(p),o=S(" "),s=L("span"),r=S("("),l=S(f),d=S(")"),this.h()},h:function(){n.className="ep-legend-color",m(n,"background",c.color),s.className="ep-legened-votes",a.className="ep-legend-item"},m:function(e,t){j(a,e,t),T(n,a),T(i,a),T(o,a),T(s,a),T(r,s),T(l,s),T(d,s)},p:function(e,t){c=t.list,t.each_value_2,t.index,e.rawList&&m(n,"background",c.color),e.rawList&&p!==(p=c.label)&&(i.data=p),e.rawList&&f!==(f=c.votes)&&(l.data=f)},u:function(){I(a)},d:g}}function p(e,t){var a,n,i,o,s,r,l,d,c=t.list,p=(t.each_value_2,t.index,c.label),f=c.votes;return{c:function(){a=L("div"),n=L("span"),i=S(p),o=S(" "),s=L("span"),r=S("("),l=S(f),d=S(")"),this.h()},h:function(){n.className="ep-legend-color",m(n,"background",c.color),s.className="ep-legened-votes",a.className="ep-legend-item"},m:function(e,t){j(a,e,t),T(n,a),T(i,a),T(o,a),T(s,a),T(r,s),T(l,s),T(d,s)},p:function(e,t){c=t.list,t.each_value_2,t.index,e.rawList&&m(n,"background",c.color),e.rawList&&p!==(p=c.label)&&(i.data=p),e.rawList&&f!==(f=c.votes)&&(l.data=f)},u:function(){I(a)},d:g}}function f(e,t){var a,n,i,o,s,r,l,d,c=t.list,p=(t.each_value_2,t.index,c.label),f=c.votes;return{c:function(){a=L("div"),n=L("span"),i=S(p),o=S(" "),s=L("span"),r=S("("),l=S(f),d=S(")"),this.h()},h:function(){n.className="ep-legend-color",m(n,"background",c.color),s.className="ep-legened-votes",a.className="ep-legend-item"},m:function(e,t){j(a,e,t),T(n,a),T(i,a),T(o,a),T(s,a),T(r,s),T(l,s),T(d,s)},p:function(e,t){c=t.list,t.each_value_2,t.index,e.rawList&&m(n,"background",c.color),e.rawList&&p!==(p=c.label)&&(i.data=p),e.rawList&&f!==(f=c.votes)&&(l.data=f)},u:function(){I(a)},d:g}}function e(e){var t,a,n;a=e,(t=this)._handlers=Object.create(null),t._bind=a._bind,t.options=a,t.root=a.root||t,t.store=t.root.store||a.store,this._state=P({},e.data),this._recompute({candidates:1,info:1,threshold:1,coalitions:1,seats:1,rawList:1,hideAll:1},this._state),document.getElementById("svelte-aixpna-style")||((n=L("style")).id="svelte-aixpna-style",n.textContent='.svelte-aixpna.ep-horizontal-stacked .candidates-wrapper,.svelte-aixpna .ep-horizontal-stacked .candidates-wrapper{display:flex;flex-wrap:wrap;justify-content:space-between}.svelte-aixpna.ep-horizontal-wrapper-link,.svelte-aixpna .ep-horizontal-wrapper-link{display:block}.svelte-aixpna.ep-horizontal-stacked .candidate-info,.svelte-aixpna .ep-horizontal-stacked .candidate-info{display:flex;flex-wrap:wrap;margin-bottom:-15px}.svelte-aixpna.ep-horizontal-stacked .candidate-info:last-of-type .candidate-desc,.svelte-aixpna .ep-horizontal-stacked .candidate-info:last-of-type .candidate-desc{order:-1}.svelte-aixpna.ep-stacked-source h4,.svelte-aixpna .ep-stacked-source h4{color:rgb(67, 67, 67);font-family:"TT Norms Pro Thin",sans-serif;text-align:right;font-size:13px;font-weight:300}.svelte-aixpna.ep-horizontal-stacked .candidate-info:last-of-type span,.svelte-aixpna .ep-horizontal-stacked .candidate-info:last-of-type span{margin-right:0;margin-left:10px}.svelte-aixpna.ep-horizontal-stacked .candidate-info .candidate-desc,.svelte-aixpna .ep-horizontal-stacked .candidate-info .candidate-desc{margin-top:9px}.svelte-aixpna.ep-horizontal-stacked .candidate-info h4,.svelte-aixpna .ep-horizontal-stacked .candidate-info h4{font-family:"TT Norms Pro Bold",sans-serif;font-weight:bold;font-size:20px;margin-bottom:2px;padding-top:0;margin-top:0}.svelte-aixpna.ep-horizontal-stacked .candidate-info h5,.svelte-aixpna .ep-horizontal-stacked .candidate-info h5{font-family:"TT Norms Pro Regular",sans-serif;font-size:14px;margin-top:0;margin-bottom:0}.svelte-aixpna.ep-horizontal-stacked .candidate-info span,.svelte-aixpna .ep-horizontal-stacked .candidate-info span{font-size:50px;font-family:"TT Norms Pro Bold",sans-serif;font-weight:bold;margin-right:10px}.svelte-aixpna.ep-horizontal-stacked-track,.svelte-aixpna .ep-horizontal-stacked-track{position:relative;height:41px;margin:7px 0 1em;color:#fff;display:flex;background:#f2f2f2;justify-content:flex-start;align-items:stretch}.svelte-aixpna.ep-horizontal-stacked-track.show-median:before,.svelte-aixpna .ep-horizontal-stacked-track.show-median:before{content:\'\';position:absolute;top:0;left:50%;bottom:0;border:0;width:1px;background:black;margin-left:-1px;z-index:2}.svelte-aixpna.ep-horizontal-stacked-track.show-median:after,.svelte-aixpna .ep-horizontal-stacked-track.show-median:after{content:\'\';position:absolute;left:50%;bottom:-12px;width:0;height:0;border-style:solid;border-width:0 6px 8px 6px;border-color:transparent transparent black transparent;margin-left:-6px}.svelte-aixpna.ep-horizontal-staked-median,.svelte-aixpna .ep-horizontal-staked-median{display:inline-block;font-size:15px;color:rgb(67, 67, 67);font-family:"TT Norms Pro Regular",sans-serif;padding:0 6px;position:relative;left:50%;transform:translateX(-50%);z-index:2}.svelte-aixpna.ep-horizontal-stacked-list,.svelte-aixpna .ep-horizontal-stacked-list{display:flex;justify-content:center;align-items:center;text-align:center;width:0%;transition:width 0.25s ease-out;position:relative}.svelte-aixpna.ep-horizontal-stacked-list h4,.svelte-aixpna .ep-horizontal-stacked-list h4{font-weight:500;font-size:18px;text-shadow:0px 0px 5px rgba(0, 0, 0, 0.69);color:white;font-family:"TT Norms Pro Medium",sans-serif}.svelte-aixpna.ep-legend,.svelte-aixpna .ep-legend{display:flex;margin-top:20px;margin-bottom:15px;justify-content:center;flex-wrap:wrap;width:100%}.svelte-aixpna.ep-legend .ep-legened-votes,.svelte-aixpna .ep-legend .ep-legened-votes{font-weight:400;font-family:"TT Norms Pro Regular",sans-serif}.svelte-aixpna.ep-legend-item,.svelte-aixpna .ep-legend-item{display:inline-block;color:#33302e;font-family:"TT Norms Pro Medium",sans-serif;font-size:18px;font-weight:500;position:relative;padding-left:25px;margin-right:15px;margin-bottom:10px}.svelte-aixpna.ep-legend-color,.svelte-aixpna .ep-legend-color{display:inline-block;width:20px;height:20px;margin-right:5px;border-radius:50%;position:absolute;left:0;top:0}.svelte-aixpna.box-Solid:first-of-type h4,.svelte-aixpna .box-Solid:first-of-type h4{margin-right:auto;margin-left:15px}.svelte-aixpna.box-Solid:last-of-type h4,.svelte-aixpna .box-Solid:last-of-type h4{margin-left:auto;margin-right:15px}@media screen and (max-width: 600px){.svelte-aixpna.ep-legend-item,.svelte-aixpna .ep-legend-item{font-size:14px;padding-left:20px;margin-right:10px}.svelte-aixpna.ep-legend-color,.svelte-aixpna .ep-legend-color{width:15px;height:15px}.svelte-aixpna.ep-horizontal-stacked-list h4,.svelte-aixpna .ep-horizontal-stacked-list h4{font-size:12px}.svelte-aixpna.ep-horizontal-stacked .candidate-info .candidate-desc,.svelte-aixpna .ep-horizontal-stacked .candidate-info .candidate-desc{margin-top:0}.svelte-aixpna.ep-horizontal-stacked .candidate-info,.svelte-aixpna .ep-horizontal-stacked .candidate-info{margin-bottom:10px;margin-top:0;flex-direction:column}.svelte-aixpna.ep-horizontal-stacked .candidate-info h4,.svelte-aixpna .ep-horizontal-stacked .candidate-info h4{font-size:16px}.svelte-aixpna.ep-horizontal-stacked .candidate-info h5,.svelte-aixpna .ep-horizontal-stacked .candidate-info h5{font-size:10px}.svelte-aixpna.ep-horizontal-stacked .candidate-info span,.svelte-aixpna .ep-horizontal-stacked .candidate-info span{font-size:20px;margin-right:0}.svelte-aixpna.ep-horizontal-stacked .candidate-info:last-of-type span,.svelte-aixpna .ep-horizontal-stacked .candidate-info:last-of-type span{margin-left:0;order:-1}}',T(n,document.head));var i=this;e.root||(this._oncreate=[]),this._fragment=function(d,e){for(var n,c,i,p,o,s,f,r,l,h,u,v,m,g=e.seats/2+1,t=e.candidates,x=[],a=0;a<t.length;a+=1)x[a]=z(d,P(P({},e),{each_value:t,candidate:t[a],index:a}));var _=e.rawList[0],b=[];for(a=0;a<_.length;a+=1)b[a]=y(d,P(P({},e),{each_value_1:_,list:_[a],index:a}));var k=e.rawList[0],w=[];for(a=0;a<k.length;a+=1)w[a]=N(d,P(P({},e),{each_value_2:k,list:k[a],index:a}));return{c:function(){n=L("div"),c=L("a"),i=L("div"),p=L("div");for(var e=0;e<x.length;e+=1)x[e].c();o=S("\n         "),s=L("div"),f=S(g),r=S(" per vincere"),l=S("\n         "),h=L("div");for(e=0;e<b.length;e+=1)b[e].c();u=S("\n         \n         "),v=L("div"),m=L("div");for(e=0;e<w.length;e+=1)w[e].c();this.h()},h:function(){p.className="candidates-wrapper",s.className="ep-horizontal-staked-median",h.className="ep-horizontal-stacked-track show-median",m.className="ep-legend",v.className="ep-stacked-dashboard",i.className="ep-horizontal-stacked",c.href=e.link,c.className="ep-horizontal-wrapper-link",n.className="ep-horizontal-wrapper ep-election-usa2020 svelte-aixpna"},m:function(e,t){j(n,e,t),T(c,n),T(i,c),T(p,i);for(var a=0;a<x.length;a+=1)x[a].m(p,null);T(o,i),T(s,i),T(f,s),T(r,s),T(l,i),T(h,i);for(a=0;a<b.length;a+=1)b[a].m(h,null);T(u,i),T(v,i),T(m,v);for(a=0;a<w.length;a+=1)w[a].m(m,null)},p:function(e,t){var a=t.candidates;if(e.candidates){for(var n=0;n<a.length;n+=1){var i=P(P({},t),{each_value:a,candidate:a[n],index:n});x[n]?x[n].p(e,i):(x[n]=z(d,i),x[n].c(),x[n].m(p,null))}for(;n<x.length;n+=1)x[n].u(),x[n].d();x.length=a.length}e.seats&&g!==(g=t.seats/2+1)&&(f.data=g);var o=t.rawList[0];if(e.rawList){for(n=0;n<o.length;n+=1){var s=P(P({},t),{each_value_1:o,list:o[n],index:n});b[n]?b[n].p(e,s):(b[n]=y(d,s),b[n].c(),b[n].m(h,null))}for(;n<b.length;n+=1)b[n].u(),b[n].d();b.length=o.length}var r=t.rawList[0];if(e.rawList){for(n=0;n<r.length;n+=1){var l=P(P({},t),{each_value_2:r,list:r[n],index:n});w[n]?w[n].p(e,l):(w[n]=N(d,l),w[n].c(),w[n].m(m,null))}for(;n<w.length;n+=1)w[n].u(),w[n].d();w.length=r.length}e.link&&(c.href=t.link)},u:function(){I(n);for(var e=0;e<x.length;e+=1)x[e].u();for(e=0;e<b.length;e+=1)b[e].u();for(e=0;e<w.length;e+=1)w[e].u()},d:function(){C(x),C(b),C(w)}}}(this,this._state),this.root._oncreate.push(function(){(function(){setTimeout(function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")},0)}).call(i),i.fire("update",{changed:{candidates:1,info:1,threshold:1,coalitions:1,seats:1,rawList:1,hideAll:1,link:1},current:i._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),l(this._oncreate))}function L(e){return document.createElement(e)}function T(e,t){t.appendChild(e)}function P(e,t){for(var a in t)e[a]=t[a];return e}function S(e){return document.createTextNode(e)}function j(e,t,a){t.insertBefore(e,a)}function I(e){e.parentNode.removeChild(e)}function C(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function m(e,t,a){e.style.setProperty(t,a)}function g(){}function t(){return document.createComment("")}function l(e){for(;e&&e.length;)e.shift()()}function a(e){this.destroy=g,this.fire("destroy"),!(this.set=this.get=g)!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}return P(e.prototype,{destroy:a,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var a=e in this._handlers&&this._handlers[e].slice();if(!a)return;for(var n=0;n<a.length;n+=1){var i=a[n];i.__calling||(i.__calling=!0,i.call(this,t),i.__calling=!1)}},observe:function(t,e,a){var n=e.bind(this);a&&!1===a.init||n(this.get()[t],void 0);return this.on(a&&a.defer?"update":"state",function(e){e.changed[t]&&n(e.current[t],e.previous&&e.previous[t])})},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var a=this._handlers[e]||(this._handlers[e]=[]);return a.push(t),{cancel:function(){var e=a.indexOf(t);~e&&a.splice(e,1)}}},set:function(e){if(this._set(P({},e)),this.root._lock)return;this.root._lock=!0,l(this.root._beforecreate),l(this.root._oncreate),l(this.root._aftercreate),this.root._lock=!1},teardown:a,_set:function(e){var t=this._state,a={},n=!1;for(var i in e)this._differs(e[i],t[i])&&(a[i]=n=!0);if(!n)return;this._state=P(P({},t),e),this._recompute(a,this._state),this._bind&&this._bind(a,this._state);this._fragment&&(this.fire("state",{changed:a,current:this._state,previous:t}),this._fragment.p(a,this._state),this.fire("update",{changed:a,current:this._state,previous:t}))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e}}),e.prototype._recompute=function(e,t){var a,n;(e.candidates||e.info)&&this._differs(t.candidates,t.candidates=(a=t.candidates,n=t.info,Object.keys(a).map(function(e,t){return null!=n[a[e].coalition]&&(a[e].totalVotes=n[a[e].coalition]),a[e]})))&&(e.candidates=!0),(e.info||e.threshold||e.coalitions)&&this._differs(t.rawList,t.rawList=i(t.info,t.threshold,t.coalitions))&&(e.rawList=!0),(e.seats||e.threshold||e.rawList||e.hideAll)&&this._differs(t.lists,t.lists=o(t.seats,t.threshold,t.rawList,t.hideAll))&&(e.lists=!0)},e}();